<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Details</title>
    <link rel="stylesheet" href="detail.css">
</head>
<body>

    <nav>
        <a href="index.html" class="back-button"> Back to Job List</a>
    </nav>

    <div class="job-details-container">
        <h2>Job Details</h2>
        <form id="job-form">

            <label for="field-status">Status</label>
            <input type="text" id="field-status" name="field-status" disabled>
            <label>Lot Number and Community:</label>
            <input type="text" id="job-name" disabled>

            <label>Field Technician:</label>
            <input type="text" id="field-tech" disabled>

            <label>Address:</label>
            <input type="text" id="address" disabled>

            <label>Homeowner Name:</label>
            <input type="text" id="homeowner-name" disabled>

            <label>Contact Email:</label>
<input type="email" id="contact-email" data-field="Contact Email" disabled>

<label>Description:</label>
<textarea id="description" data-field="Description of Issue" disabled></textarea>


<label>DOW to be Completed:</label>
<input type="text" id="dow-completed" data-field="DOW to be Completed">

<label for="subcontractor-dropdown">Select a Subcontractor:</label>
<select id="subcontractor-dropdown" data-field="Subcontractor">
    <option value="">Select a Subcontractor...</option>
</select>




<div id="additional-fields-container">
    <div class="form-group">
        <label for="billable-status">Billable Status</label>
        <select id="billable-status" name="billable-status" data-field="Billable/ Non Billable">
            <option value="Billable">Billable</option>
            <option value="Non Billable">Non Billable</option>
        </select>
        
    </div>

    <div class="form-group">
        <label for="homeowner-builder">Homeowner Builder Pay</label>
<select id="homeowner-builder" name="homeowner-builder" data-field="Homeowner Builder pay">
    <option value="Homeowner">Homeowner</option>
    <option value="Subcontractor">Subcontractor</option>
    <option value="Builder">Builder</option>
</select>

    </div>

    <div class="form-group">
        <label for="billable-reason">Billable Reason (If Billable)</label>
        <select id="billable-reason" name="billable-reason" data-field="Billable Reason (If Billable)">
            <option value="anotherTradeDamagedWork">Another Trade Damaged Work</option>
            <option value="Homeowner Damage">Homeowner Damage</option>
            <option value="Framing Issue">Framing Issue</option>
            <option value="Weather">Weather</option>
        </select>
    </div>

    <div class="form-group">
        <label>Field Review Not Needed:</label>
        <input type="checkbox" id="field-review-needed" data-field="Field Review Not Needed">
    </div>

    <div class="form-group">
        <label>Field Review Needed:</label>
        <input type="checkbox" id="field-review-not-needed" data-field="Field Review Needed">
    </div>

    <div class="form-group">
        <label for="subcontractor-payment">Subcontractor Payment</label>
        <input type="number" id="subcontractor-payment" name="subcontractor-payment" step="0.01" min="0" placeholder="$0.00" data-field="Subcontractor Payment">
    </div>
    
    

    <div class="form-group">
        <label for="materials-needed">Materials Needed</label>
        <textarea id="materials-needed" name="materials-needed" data-field="Materials Needed"></textarea>
    </div>


            <h3>Picture(s) of Issue:</h3>
            <div id="issue-pictures"></div>
            <input type="file" id="upload-issue-picture" multiple>

            <h3 id="completed-pictures-heading">Completed Pictures:</h3>
<div id="completed-pictures"></div>
<input type="file" id="upload-completed-picture" multiple>



<div class="form-group">
    <label>Field Tech Reviewed:</label>
    <input type="checkbox" id="field-tech-reviewed">
  </div>

  <label id="job-completed-label">Job Completed:</label>
  <input type="checkbox" id="job-completed" data-field="Job Completed">



            <button type="button" id="save-job">Save Changes</button>
        </form>
    </div>

    <script>
        window.env = {
           AIRTABLE_API_KEY: 'patM49mmBDFbP6y2n.545e1307aae93d7bd5fd579bc395039d43fece72fa6df5085bae343817d614ff',
           AIRTABLE_BASE_ID: 'appO21PVRA4Qa087I',
           AIRTABLE_TABLE_NAME: 'tbl6EeKPsNuEvt5yJ',
           AIRTABLE_TABLE_NAME2: 'tbl9SgC5wUi2TQuF7',

           AIRTABLE_SUBCONTRACTOR_TABLE_NAME: 'tbl9SgC5wUi2TQuF7' // âœ… Added this for subcontractors
        };
    </script>
    
    
    <script src="job-details.js"></script>
</body>
</html>
